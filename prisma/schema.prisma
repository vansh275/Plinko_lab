// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}


model Round {
  // Metadata
  id               String    @id @default(cuid()) // cite: 70
  createdAt        DateTime  @default(now())      // cite: 75
  status           String                        // CREATED | STARTED | REVEALED (cite: 76, 77)

  // Fairness
  nonce            String                        // cite: 79
  commitHex        String                        // SHA256(serverSeed + nonce) (cite: 80, 81)
  serverSeed       String?                       // revealed post-round (cite: 82, 83)
  clientSeed       String                        // cite: 84, 85
  combinedSeed     String                        // SHA256(serverSeed + clientSeed + ":" + nonce) (cite: 86)
  pegMapHash       String                        // cite: 87

  // Game
  rows             Int                           // 12 (cite: 89, 91)
  dropColumn       Int                           // 0..12 (cite: 92)
  binIndex         Int                           // 0..12 (cite: 93)
  payoutMultiplier Float                         // cite: 94
  betCents         Int                           // cite: 95
  pathJson         Json                          // decisions per row for replay (cite: 96)
  revealedAt       DateTime?                     // cite: 97, 98
}
